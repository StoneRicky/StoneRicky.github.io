<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  

  
  <title>BlogRicky</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="The world around you is not what it seems.">
<meta property="og:type" content="website">
<meta property="og:title" content="BlogRicky">
<meta property="og:url" content="http://47.104.205.6/hexo/index.html">
<meta property="og:site_name" content="BlogRicky">
<meta property="og:description" content="The world around you is not what it seems.">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="BlogRicky">
<meta name="twitter:description" content="The world around you is not what it seems.">
  
    <link rel="alternate" href="/atom.xml" title="BlogRicky" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">BlogRicky</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">又一个白嫖Blog</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://47.104.205.6/hexo"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-hexo-github-pages-e7-99-bd-e5-ab-96-e5-8d-9a-e5-ae-a2-e6-90-ad-e5-bb-ba-e6-89-8b-e6-9c-ad" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/09/10/hexo-github-pages-e7-99-bd-e5-ab-96-e5-8d-9a-e5-ae-a2-e6-90-ad-e5-bb-ba-e6-89-8b-e6-9c-ad/" class="article-date">
  <time datetime="2019-09-10T06:03:30.000Z" itemprop="datePublished">2019-09-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/咸鱼翻身/">咸鱼翻身</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/09/10/hexo-github-pages-e7-99-bd-e5-ab-96-e5-8d-9a-e5-ae-a2-e6-90-ad-e5-bb-ba-e6-89-8b-e6-9c-ad/">hexo + github pages 白嫖博客搭建手札</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>最近在搞一个新的wordpress打算整理一下工作中用的东西，但考虑到目前的主题加载太慢，就尝试一下其他方式搭建网站。</p>
<p>虽然没有找到给工作用的网页的替代品，但hexo着实吸引了我。</p>
<p>写下此篇文章，谨以记录搭建过程，有缘的话就在把这些都迁移过去。</p>
<p>本文分三个阶段：</p>
<ul>
<li><a href="#first">搭建Linux上的hexo</a></li>
<li><a href="#second">搭建Github pages</a></li>
<li><a href="#third">连接hexo与GitHub page</a></li>
<li><a href="#fourth">将hexo上传至Github page</a></li>
</ul>
<h2 id="搭建Linux上的hexo"><a href="#搭建Linux上的hexo" class="headerlink" title="搭建Linux上的hexo"></a>搭建Linux上的hexo</h2><p>首先更新node.js的源：</p>
<pre><code>wget -qO- https://rpm.nodesource.com/setup_12.x | bash -
# 下载的内容实际上是一串代码，所有需要bash运行</code></pre><p>安装node.js：</p>
<pre><code>yum install nodejs</code></pre><p>安装git：</p>
<pre><code>yum install git</code></pre><p>安装hexo：</p>
<pre><code>npm install -g hexo-cli</code></pre><p>安装hexo网站进入文件夹{folder}：</p>
<pre><code>hexo init {folder}</code></pre><p>然后进入文件夹，安装：</p>
<pre><code>npm install</code></pre><p>这个时候hexo就已经安装进了{folder}，文件夹里有一个名叫_config.yml的配置文件，可以根据自己的需要修改内容，具体参考<a href="https://hexo.io/zh-cn/docs/configuration" target="_blank" rel="noopener">hexo官网</a>。</p>
<p>生成静态文件：</p>
<pre><code>hexo g
# 等价于hexo generate</code></pre><p>打开网站服务：</p>
<pre><code>hexo s
# 等价于hexo server</code></pre><p>这时输入网站加端口（默认4000）就可以访问网页了。</p>
<p>但是这就有点问题呢，打开了网站服务只能打开时候用，关了putty马上不能用，hexo提供了如下后台运行命令，但根据网友提供的反馈，也是经常断开。</p>
<pre><code>hexo s &amp;</code></pre><p>于是笔者便考虑了之前并没有过的打算，使用Github page白嫖主页。</p>
<h2 id="搭建Github-pages"><a href="#搭建Github-pages" class="headerlink" title="搭建Github pages"></a>搭建Github pages</h2><p>建立一个仓库（repository）</p>
<p><img src="http://47.104.205.6/main/wp-content/uploads/2019/09/image.png" alt></p>
<p>名为xxx.github.io，xxx必须是Github的username，否则Github pages的链接会很长，加载也会出现问题，类型选择Public。</p>
<p><img src="http://47.104.205.6/main/wp-content/uploads/2019/09/image-2.png" alt></p>
<h2 id="连接hexo与Github-pages"><a href="#连接hexo与Github-pages" class="headerlink" title="连接hexo与Github pages"></a>连接hexo与Github pages</h2><p>生成SSH key：</p>
<pre><code>cd ~/.ssh
ssh-keygen -t rsa</code></pre><p>这时目录就会生成两个新文件，打开名为“id_rsa.pub”，复制其中一大串看不多能干的代码。</p>
<p>在Github中打开个人设置：</p>
<p><img src="http://47.104.205.6/main/wp-content/uploads/2019/09/image-3.png" alt></p>
<p>选择左侧SSH and GPG keys，新建一个SSH keys，标题随意填写，将刚才复制的内容粘贴在这里。</p>
<p>此时在Linux命令行里输入：</p>
<pre><code>ssh -T git@github.com</code></pre><p>可以测试是否连接成功。</p>
<p>然后配置git用户名和邮箱：</p>
<pre><code>git config --global user.name &quot;username&quot;
/** username为GitHub的username
git config --global user.email  &quot;email&quot;
/** email为注册GitHub时的Email</code></pre><h2 id="将hexo部署至Github-page"><a href="#将hexo部署至Github-page" class="headerlink" title="将hexo部署至Github page"></a>将hexo部署至Github page</h2><p>安装部署工具：</p>
<pre><code>npm install hexo-deployer-git --save</code></pre><p>编辑hexo网页目录中的 _config.yml文件，将deploy部分修改为下文：</p>
<pre><code>deploy：
  type: git
  repo: ssh://git@github.com/StoneRicky/StoneRicky.github.io.git
  # 链接从GitHub仓库中获得，修改成类似形式
  branch: master</code></pre><p>然后连续运行以下两行命令：</p>
<pre><code>hexo g
hexo d</code></pre><p>这时候访问xxx.github.io就可以看到部署好的个人主页了。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://47.104.205.6/hexo/2019/09/10/hexo-github-pages-e7-99-bd-e5-ab-96-e5-8d-9a-e5-ae-a2-e6-90-ad-e5-bb-ba-e6-89-8b-e6-9c-ad/" data-id="ck0eopw56000mgvywv4r8s9u6" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/09/09/hello-world/" class="article-date">
  <time datetime="2019-09-09T09:11:30.847Z" itemprop="datePublished">2019-09-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/09/09/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://47.104.205.6/hexo/2019/09/09/hello-world/" data-id="ck0eopw4v000lgvywcpvrwpow" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-easytrain-e4-bd-bf-e7-94-a8-e6-96-b9-e6-b3-95-e7-a0-94-e7-a9-b6" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/04/26/easytrain-e4-bd-bf-e7-94-a8-e6-96-b9-e6-b3-95-e7-a0-94-e7-a9-b6/" class="article-date">
  <time datetime="2019-04-26T05:23:23.000Z" itemprop="datePublished">2019-04-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/咸鱼翻身/">咸鱼翻身</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/04/26/easytrain-e4-bd-bf-e7-94-a8-e6-96-b9-e6-b3-95-e7-a0-94-e7-a9-b6/">EasyTrain使用方法研究</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>人生最痛苦的事情是什么呢？其实我不知道，但我知道现在比较痛苦的事情是什么。</p>
<p>2017年，那个暑假前，我可以用PHP调用Python再调用数据库，完成数据挖掘的任务。现在呢？EasyTrain只需要安装几个库，调用一下python就可以了，可是。。。我不会了</p>
<p>链接：<a href="https://github.com/Why8n/EasyTrain" target="_blank" rel="noopener">https://github.com/Why8n/EasyTrain</a></p>
<p>有缘再过来……</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://47.104.205.6/hexo/2019/04/26/easytrain-e4-bd-bf-e7-94-a8-e6-96-b9-e6-b3-95-e7-a0-94-e7-a9-b6/" data-id="ck0eopw4s000igvywimv742hk" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-strongswan-5-6-3-e5-ae-89-e8-a3-85-e6-89-8b-e6-9c-ad-2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/02/28/strongswan-5-6-3-e5-ae-89-e8-a3-85-e6-89-8b-e6-9c-ad-2/" class="article-date">
  <time datetime="2019-02-28T09:08:49.000Z" itemprop="datePublished">2019-02-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/咸鱼翻身/">咸鱼翻身</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/02/28/strongswan-5-6-3-e5-ae-89-e8-a3-85-e6-89-8b-e6-9c-ad-2/">StrongSwan 5.6.3 安装手札</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>本片为上篇的总结，仅有执行方式。</p>
<p>下载Quericy前辈的脚本：</p>
<pre><code>wget --no-check-certificate https://raw.githubusercontent.com/quericy/one-key-ikev2-vpn/master/one-key-ikev2.sh</code></pre><p>修改脚本文件：</p>
<pre><code>vim one-key-ikev2.sh</code></pre><p>在35%左右的位置找到5.5.1，替换成5.6.3，修改完成后保存。</p>
<p>授权：</p>
<pre><code>chmod +x one-key-ikev2.sh</code></pre><p>运行：</p>
<pre><code>bash one-key-ikev2.sh</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://47.104.205.6/hexo/2019/02/28/strongswan-5-6-3-e5-ae-89-e8-a3-85-e6-89-8b-e6-9c-ad-2/" data-id="ck0eopw59000pgvywqrqp8dxm" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-strongswan-e9-95-bf-e6-9c-9f-e5-ae-89-e8-a3-85-e7-ac-94-e8-ae-b0" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/05/30/strongswan-e9-95-bf-e6-9c-9f-e5-ae-89-e8-a3-85-e7-ac-94-e8-ae-b0/" class="article-date">
  <time datetime="2018-05-30T08:21:57.000Z" itemprop="datePublished">2018-05-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/基础信息/">基础信息</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/05/30/strongswan-e9-95-bf-e6-9c-9f-e5-ae-89-e8-a3-85-e7-ac-94-e8-ae-b0/">strongSwan长期安装笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>由于国家防火墙的不断升级，目前仅存的可访问诸如google.com的方式已经屈指可数，IKEv2由于使用证书加密依然能提供相对较高且比较稳定的速度，<a href="http://www.strongswan.org" target="_blank" rel="noopener">strongSwan</a>是一个比较广泛的可提供IKEv2转发的软件服务。</p>
<p>去年2月，通过笔者Quericy前辈的<a href="https://quericy.me/blog/699/" target="_blank" rel="noopener">教程</a>，一键安装了5.51版本，但是此后再无更新，而strongSwan已经发布了5.63版本。由于对目前版本的不满意，以及准备更换KVM格式的VPS开BBR加速，便考虑了自主寻找安装配置strongSwan的方式。</p>
<p>索性，也是相当无奈的，bandwagon并不提供OpenVZ至KVM的转换，并且也已经超过了退款日期，于是笔者打算今年晚些时候再去购买一台新的VPS，再进行新版本strongSwan的搭建。在此之前，有相当充足的时间供阅读strongSwan的文档及查询问题。</p>
<h2 id="计划"><a href="#计划" class="headerlink" title="计划"></a>计划</h2><p>strongSwan，强壮天鹅，程序也如其名，官网提供了安装包，已经支持了目前大多数的系统，具体大致如下：</p>
<ul>
<li><a href="https://aur.archlinux.org/packages/strongswan/" target="_blank" rel="noopener">Arch Linux</a></li>
<li>[Debian](<a href="http://packages.debian.org/search" target="_blank" rel="noopener">http://packages.debian.org/search</a> keywords=strongswan&amp;searchon=names&amp;suite=all&amp;section=all)</li>
<li><a href="http://packages.ubuntu.com/search?keywords=strongswan&searchon=names&suite=all&section=all" target="_blank" rel="noopener">Ubuntu</a></li>
<li><a href="http://software.opensuse.org/search?p=1&q=strongswan" target="_blank" rel="noopener">openSUSE</a></li>
<li><a href="http://packages.gentoo.org/package/net-misc/strongswan" target="_blank" rel="noopener">Gentoo</a></li>
<li><a href="http://maemo.org/packages/view/strongswan/" target="_blank" rel="noopener">Maemo</a></li>
<li><a href="https://apps.fedoraproject.org/packages/strongswan/overview/" target="_blank" rel="noopener">Fedora</a></li>
<li><a href="http://pkgs.org/download/strongswan" target="_blank" rel="noopener">Red Hat Enterprise Linux and CentOS via EPEL</a></li>
</ul>
<p>笔者对目前常用的系统为CentOS，如果不出意外，将来的安装方式也仅以此为例。</p>
<p>当前strongSwan的最新版本为5.6.3，官方在CentOS6中提供5.4.0的一键安装，在CentOS7提供5.6.2的安装，已经比较接近最新版本。笔者打算在腾讯云服务器搬家完成后，将其重装，进行测试安装，并记录安装过程。虽然目前仍有部分未搬迁完成，但并不妨碍测试安装的进行。</p>
<h2 id="历程"><a href="#历程" class="headerlink" title="历程"></a>历程</h2><p>根据目前官网提供的安装方式，需要先更新源。官方简单粗暴的扔了一个<a href="http://dl.fedoraproject.org/pub/epel/7/x86_64/" target="_blank" rel="noopener">网站</a>，但具体文件还是需要些时间寻找。</p>
<p>通过wget命令下载此文件：</p>
<p>wget <a href="http://dl.fedoraproject.org/pub/epel/7/x86_64/Packages/e/epel-release-7-11.noarch.rpm" target="_blank" rel="noopener">http://dl.fedoraproject.org/pub/epel/7/x86_64/Packages/e/epel-release-7-11.noarch.rpm</a></p>
<p>安装源：</p>
<p>rpm -Uvh epel-release-7-11.noarch.rpm</p>
<p>安装strongSwan：</p>
<p>yum install strongswan</p>
<p>至此strongSwan已经安装完成了，相对于编译安装，这种方式明显更简单，但具体是否影响使用还有待考证。</p>
<p>然后我像之前样输入以下代码，查看版本：</p>
<p>ipsec version</p>
<p>返回结果是找不到命令，查阅用户文档后才发现，程序命令已经换为其软件本名，原文如下：</p>
<blockquote>
<p>While the ipsec.conf configuration file is well suited to define IPsec related configuration parameters, it is not useful for other strongSwan applications to read options from this file. The file is hard to parse and only ipsec starter is capable of doing so. As the number of components of the strongSwan project is continually growing, we needed a more flexible configuration file that is easy to extend and can be used by all components. The new configuration format consists of hierarchical sections and a list of key/value pairs in each section. Starting with the strongSwan 4.2.1release, a default strongswan.conf file is installed in your sysconfdir, e.g. <code>/etc/strongswan.conf</code>.</p>
</blockquote>
<h6 id="2018-5-30"><a href="#2018-5-30" class="headerlink" title="2018/5/30"></a>2018/5/30</h6><hr>
<p>于是，问题来了，接下来要做什么？</p>
<p>如文档所描述，强壮天鹅能提供的功能相当的多，仅场景应用就有400多，翻了翻文档可能还是需要学学专业课。那么好吧，先暂时停止一下转发功能的实现，多学习了解一下计算机网络。</p>
<p>《计算机网络》这本课本，基本是把虚拟专用网络该用到的理论都写在了书上，笔者之前考研时也有摸鱼看完了所有相关内容。课本上有提到IKEv2协议，但并没有详细讲解。根据其实现方式，笔者推测应当是非对称加密。</p>
<p>对于未来的一段时间内，笔者会多多学习此方面的内容，再逐渐结合一下实践，争取独立完成strongSwan的配置。</p>
<h6 id="2018-5-31"><a href="#2018-5-31" class="headerlink" title="2018/5/31"></a>2018/5/31</h6><hr>
<p>今天才明白，原来iptables服务除了当作防火墙，还能做转发，充当NAT服务器，CentOS7上与此对应的Firewall服务也具备相同的功能。这就理解了为什么当初手动安装时，没配置防火墙，只能链接但上不去网的现象。</p>
<p>同时笔者在思考如下一件事情的可行性：</p>
<ul>
<li>如果将Quericy前辈的一键安装脚本中strongSwan的安装包链接替换成最新版的，安装是否可以顺利进行。</li>
</ul>
<p>下载脚本：</p>
<p>wget –no-check-certificate <a href="https://raw.githubusercontent.com/quericy/one-key-ikev2-vpn/master/one-key-ikev2.sh" target="_blank" rel="noopener">https://raw.githubusercontent.com/quericy/one-key-ikev2-vpn/master/one-key-ikev2.sh</a></p>
<p>笔者尝试寻找脚本中有关strongSwan的链接，发现其是通过一个函数对版本进行寻找，大概在40%的位置，将原本的5.5.1修改成5.6.3，并在腾讯云的CentOS7的服务器上进行测试。</p>
<p>授权：</p>
<p>chmod +x one-key-ikev2.sh</p>
<p>运行脚本：</p>
<p>bash one-key-ikev2.sh</p>
<p>经过了几次调整，strongSwan得以成功安装，并且生成了证书，但有关虚拟专用网络的三个服务均没有开启。</p>
<p>根据猜测笔者认为有可能是如下原因（按可能性排序）：</p>
<ol>
<li>strongSwan版本变动导致先前针对5.5.1的配置不能照搬操作；</li>
<li>笔者这台腾讯云主机上安装的软件过于繁多，修改过很多系统配置，对strongSwan的服务配置产生影响；</li>
<li>Quericy前辈的脚本针对CentOS7.X有bug。</li>
</ol>
<h6 id="2018-6-1"><a href="#2018-6-1" class="headerlink" title="2018/6/1"></a>2018/6/1</h6><hr>
<p>今日进行了两次尝试，都是在腾讯云CentOS6.8下进行的。</p>
<p>首先是通过修改脚本中StrongSwan版本进行安装，安装成功并且可以连接，但不能访问任何网页，ping也是不通的。</p>
<p>怀疑是版本问题，便重装系统进行原脚本运行，但效果同上次相同。</p>
<p>笔者猜测是腾讯云主机不适配StrongSwan的代理服务，或者KVM与OpenVZ之间选择有误。</p>
<p>2018/6/25</p>
<hr>
<p>7月6日当天，公司摸鱼日，直接去搬瓦工买了一个KVM的VPS，本着死马当活马医的原则，尝试了两次安装。</p>
<p>系统直接选择了搬瓦工CentOS6.8已开启bbr的版本，首先进行了一次原版本安装，尝试启动StrongSwan服务的时候，仅有一条</p>
<p>Starting strongSwan 5.5.1 IPsec [starter]…</p>
<p>不同于之前OpenVZ上弹出的</p>
<p>no netkey IPsec stack detected<br>no KLIPS IPsec stack detected<br>no known IPsec stack detected, ignoring!</p>
<p>但通过VPS访问外网是完全没问题的，方才明白这并不是三项服务，正确的安装本不该弹出如上的三条提醒。</p>
<p>然后笔者又如同上图一样对脚本文件进行了修改，并再次安装，同样可以完美上网。</p>
<p>但实际效果并不是非常尽人意，通过两个VPS之间观看4K视频的对比，KVM并没有比OpenVZ有多少提升，速度在同一数量级。</p>
<p>7月12日当天，上午，公司摸鱼日又进行了一次腾讯云服务器上的5.6.3安装，同样可以安装成功并代理上网。</p>
<p>至此最新版的StongSwan算是安装成功了，以后会整理一个手札方便日后安装。</p>
<p>但这个笔记仍未完结，因为当前尚未能解决的问题还是CentOS7.X上的StrongSwan安装问题。</p>
<p>2018/7/12</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://47.104.205.6/hexo/2018/05/30/strongswan-e9-95-bf-e6-9c-9f-e5-ae-89-e8-a3-85-e7-ac-94-e8-ae-b0/" data-id="ck0eopw5j000rgvywnai3zbzu" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-e6-90-ac-e5-ae-b6-2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/05/28/e6-90-ac-e5-ae-b6-2/" class="article-date">
  <time datetime="2018-05-28T09:53:55.000Z" itemprop="datePublished">2018-05-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/基础信息/">基础信息</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/05/28/e6-90-ac-e5-ae-b6-2/">搬家</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>先挖坑，有缘填上</p>
<h2 id="2018年5月，不得不面对的一件事情，毕业了。"><a href="#2018年5月，不得不面对的一件事情，毕业了。" class="headerlink" title="2018年5月，不得不面对的一件事情，毕业了。"></a>2018年5月，不得不面对的一件事情，毕业了。</h2><p>腾讯的1元主机优惠只有两个多月，付不起65元/月的原价费用，正好遇到了阿里云3年279的优惠，不知道是为了坚持着什么，也许只是打算以后回首往事吧，就买了下来。 最初的时候一直没来得及搞，将其装上Win系统，跑一个QQ机器人。后来感觉来不及了，就装了CentOS。 选系统的时候就发现，阿里云提供了最新版本的CentOS7.4版本，就想着和一年前的腾讯云异样，准备装一套最新的LAMP，于是就如同一年前一样，通过限制时间搜索的方式寻找教程，搭建了最新的环境。不知为何原因，第一次安装PHP-devel未能成功启用，抱着万能重装的心理，重来了一次便可以了。 于是就到了最重要的环节，网站迁移。 本站仅有的两个功能：</p>
<ul>
<li>贴吧云签到</li>
<li>个人主页</li>
</ul>
<p>前者因为没有什么数据，便直接重装了一套，后者就相当麻烦。不过相对于一年前，这次至少是两台机器同时存在，并且在这之前，已经将腾讯云进行了镜像备份。通过简单的搜索，找到了一个<a href="https://blog.csdn.net/zhihui1017/article/details/52066106" target="_blank" rel="noopener">教程</a>，简单粗暴并言之有理，即先备份数据库再将网站文件夹打包，并修改网站中有关数据库的配置。于是直接将新旧数据库设置成相同的用户密码，并且还建了同样名称的DataBase。但是导入导出时又遇到了问题，本来认为是PMA的版本有差别，便将腾讯云的PMA升级。（此过程中产生了一个疑问，腾讯云主机的PMA并没有状在网页根目录中，但可以通过yum卸载，由于忘记了PMA当初安装的步骤，便一直没明白PMA是如何安装的。）PMA版本相同后，备份的文件仍然不能导入，经过仔细测试，最终发现了问题，导入前应当先建立DataBase。网页文件夹便通过压缩，wget现在的方式传输到了阿里云，解压后可以直接访问，但总会跳转至阿里云，通过直接修改数据库中名为**_options的Table中前两行内容即可解决。</p>
<hr>
<p><em>至此搬家基本结束，名为main的网站搬迁基本完成。至于start、wordpress是存在于腾讯镜像中还是转移至此，看以后心情吧。</em></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://47.104.205.6/hexo/2018/05/28/e6-90-ac-e5-ae-b6-2/" data-id="ck0eopw4e0008gvywa1ebmgzt" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-e6-9c-aa-e5-91-bd-e5-90-8d" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/28/e6-9c-aa-e5-91-bd-e5-90-8d/" class="article-date">
  <time datetime="2017-12-28T11:08:57.000Z" itemprop="datePublished">2017-12-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Promise/">Promise</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/28/e6-9c-aa-e5-91-bd-e5-90-8d/">未命名</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>首先是很抱歉那天考完对你的态度，我实在是太累的想要找地方休息一下的就被讲了分手，一时间没控制好自己的情绪就对你说了很多过激的话。所以希望你若是有时间，还请耐心的看完这些东西。</p>
<p>从五一那天在地铁站收到你的短信，我就觉得欠你很多，在爸妈反对的情况下依然要在一起，并给我带来如此多的快乐，对我来说是很幸福的事情了。从最初的时候，我就始终希望通过我不断努力，能够让自己变得更优秀，以让爸爸更有可能接受我的存在，这也是我在考公和考研之间选择后者的原因。我甚至想过等到毕业以后该以何种方式和他慢慢接触，又或是该如何面对在接受我之前的那些训斥。这可能本就是自由恋爱中不少男孩子要面对的问题，但更重要的是，我喜欢你。</p>
<p>这半年，尤其是十月份以后，我再没有以前每天那么多时间用来休闲，每天都有很多有趣的东西要分享给你。除了复习就是刷题，吃饭路上还要抱本政治看几眼。我可能是有提到过，大学的前两年几乎属于荒废学业的状态，这些当时的不努力只能靠现在折磨自己来补。我用来休闲娱乐的时间越来越少，身边给我带来欢乐的事情越来越少，能分享给你的快乐也随之减少。以及不想让你在见不到的时候让你因为我的事情难过，我尽量都把那些每天都发生的让人不愉快的事情，克制住。</p>
<p>但我遇到有意思的事情还是会告诉你，那些有意义的文字和图片都在和你的聊天记录里，每次需要的时候只要去聊天记录里找就可以找到。只是最近一个多月，我的快乐大都只来自于服用利他林所产生的多巴胺，除了这种虚幻的快乐给我带来动力，我只能用“我还有救”去鼓励自己。</p>
<p>“抱抱你”、“摸摸头”这类的话，因为被讲了太多，再讲出来时已经没有了最开始的那种幸福感。越不聊天就越没话聊，越没的话聊就越容易让偶尔多说的两句产生误解和矛盾。因为不能在你面前，很多话通过文字表述就变了味道，以及我有限的表达能力和方式，也经常会让你不开心。但我没办法去到你面前，我也没有好好解释那些让你伤心的话，也未曾意识到那些话已经给你带来了如此多的伤害。造成这个状况我真的很无奈、很抱歉，我只能承诺等考完之后再多补偿给你，再陪你做你喜欢的事情，也再没有了别的办法。</p>
<p>可是我真的，很喜欢你。即使那些话已经失去了令人幸福的效果，但我不变的每天都想好好抱抱你，又或是在你怀里任你手指拂动我头发的这些想法。可是我，不能去到你身边。</p>
<p>很是开心你有时候能有很多话跟我讲，不论你说了什么，即使是有些话看起来不是那么令人愉快，但因为你是说出来的，小石头都会觉得高兴。</p>
<p>很幸运能做你的男朋友，也很感谢即使分手也撑到了我考完，同时很抱歉给你的初恋带来这样糟糕的体验。</p>
<p>对不起，我不是一个合格的男朋友。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://47.104.205.6/hexo/2017/12/28/e6-9c-aa-e5-91-bd-e5-90-8d/" data-id="ck0eopw4l000dgvywh1yn9yk0" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-e4-b8-b4-e8-80-83-e6-a0-87-e7-ad-be" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/19/e4-b8-b4-e8-80-83-e6-a0-87-e7-ad-be/" class="article-date">
  <time datetime="2017-12-19T11:28:45.000Z" itemprop="datePublished">2017-12-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/普通文章/">普通文章</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/19/e4-b8-b4-e8-80-83-e6-a0-87-e7-ad-be/">临考标签</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>真是让人不知所措，说着说着就已经剩下三天多一个晚上的时间了。 刚做完了一套英语阅读，拿错了答案以为只对了三个，差点崩溃过去。阅读和预期一样20分整，希望在作文15+翻译3+，完形3分的情况下拿下40分吧，要求不高，就让你和政治加起来100，剩下200让他俩加油。不过政治真的有些头大了，选择题正确率上崩下跳，15-30不可预期，肖4的最后一套实在不敢做了。可以很明确的看到是毛中特丢分严重，那么再复习小段时间试试吧，可即使能上30我大题能30吗？ 数学算是在上周给复习完了，除了个别公式，开考时看看应该可以记住的，但缺乏大量练习可我也无力拯救了；专业课还有些遗漏，不过这个看起来略微简单一些，出题没有规律，前一年的题第二年可以考原题，那就把所有错题都给整理一下。 最近半个月频繁服用利他，它林在提供学习动力的同时，也让我没那么悲观了，多巴胺的作用可能就在于此，但身体的耐药性也有了略微的体现。目前还有6片，周五好好休息就不吃药了，这样留给每场考试各一片，应该能保证良好的发挥。 这个月差不多每天都活在“我还有救”之中，是的，我还有救，如果我继续努力，再有点运气，是有救的。所以，请阁下为了自己和阿尘的未来，加油吧！</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://47.104.205.6/hexo/2017/12/19/e4-b8-b4-e8-80-83-e6-a0-87-e7-ad-be/" data-id="ck0eopw480004gvywi4j6cngj" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-10-e6-9c-88-e6-a0-87-e7-ad-be" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/10/20/10-e6-9c-88-e6-a0-87-e7-ad-be/" class="article-date">
  <time datetime="2017-10-20T11:23:16.000Z" itemprop="datePublished">2017-10-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/普通文章/">普通文章</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/20/10-e6-9c-88-e6-a0-87-e7-ad-be/">10月标签</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>恐怕是很难得的经历吧，翻了一下半年前的内容，小目标没有完成，有点莫名其妙地选择了考研。 有时候很讨厌大一时候的自己，哪怕是听听课，也不会有现在这种情况吧。不过仔细想了想，自己其实是从小就对数学没兴趣的，初中起对数学就不是很认真，能考出好成绩基本都是自学的结果。以及大一的时候根本就没有要考研的打算，如今收拾这个烂摊子是要花更多的功夫。 前几日买的利他林今天终于到货了，明天或者后天试一下效果吧。不知对数学学习会不会有提高，以及副作用会有多可怕。这事情如果告诉了阿尘怕是会很担心的，等以后的日子慢慢讲吧。之前买了一盒烟，记忆中也有三个星期了，也许是它对我没有真实的作用，中间有别人拿走几根，现在还余下三支。 最近的状态一直是属于低沉的，之前的表情包都不太喜欢用了，考虑一下要不要删掉换新的。大体回忆了一下，有一个月左右没和室友外的人讲过话了，上一次应该是充电活动的时候。其实还是蛮喜欢现在的状态的，至少能认真做下去事情吧，除了心理压力太大。 线性代数还没复习完，高等数学也留个尾巴，专业课应该是很简单的，英语任他去吧。不知道这样的计划可不可行，距离考研两个月零五天，谁知道后来的故事会怎样呢？</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://47.104.205.6/hexo/2017/10/20/10-e6-9c-88-e6-a0-87-e7-ad-be/" data-id="ck0eopw3a0000gvyw5ft1o6oa" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-e6-90-ac-e5-ae-b6" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/02/28/e6-90-ac-e5-ae-b6/" class="article-date">
  <time datetime="2017-02-28T12:14:25.000Z" itemprop="datePublished">2017-02-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/基础信息/">基础信息</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/28/e6-90-ac-e5-ae-b6/">搬家</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>test</p>
<h2 id="测试成功！"><a href="#测试成功！" class="headerlink" title="测试成功！"></a>测试成功！</h2><p>一天满课，6节是上机课，在机房也折腾了六节课，刚刚回到宿舍后又加班两小时，总算是把主页搬家成功了。 文章内可能会有部分链接暂时不可用，今天的晚些时候或是明天，我会一点点替换成新链接。 从Win搬家到Centos，备份时太过鲁莽，不经意被选择了UTF-8MB4这种不常用的编码，新系统刚装好时整个人都是崩溃的。 最初选择了Centos 6.8系统，架好LAMP服务后发现通过yum命令安装的PHP只是5.3版本，与PMA不兼容，于是重装了低版本的PMA。然而导入数据裤的时候出现了UTF-8和UTF-8MB4编码不兼容的问题。 我单方面认为是PMA版本过低所致（实际上mysql版本在5.5以上就可以支持UTF-8MB4），去图书馆找了班下午，借到一本2012版本的书，但并没有提供帮助。然后自己重装了Centos 7.2，通过yum安装PHP，发现其版本也只是5.4，依然和最新版PMA依然不兼容。 安静的晚上，个人在墙外，通过限制日期搜索，终于发现了台湾友人新发布不久的<a href="http://jsnwork.kiiuo.com/archives/2118/centos-7-%E5%AE%89%E8%A3%9D-apache-php-mysql-phpmyadmin-ftp" target="_blank" rel="noopener">教程</a>，按照说明很容易架了新的LAMP。但是通过PMA恢复数据库时依然出错，按照网页上建议的方式修改sql文件的内容，依然不能成功。 于是身心疲惫的我认为架好新的LAMP已经很成功了，就暂时搁浅了这个计划，期间曾借室友的服务器装了Win系统和XAMMPP试图导入数据库，依然失败。偶尔有搜索几次，了解到可以通过修改mysql设置解决问题，但一直有别的事情要忙（在校内校外到处炸po），并没有实践。 今天的几个小时，解决了数据库恢复、网页内容恢复、服务器权限设置等大多数问题，<a href="http://www.micromini.me/wordpress/" target="_blank" rel="noopener">旧网站</a>依然存在，但由于备份初期出现的一些情况（不能正常打开页面内链接），以及留作纪念的想法，只留作展览，不再更改。</p>
<hr>
<p><em>网站具体架设参数不久后会更新进服务器说明那篇文章内。</em></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://47.104.205.6/hexo/2017/02/28/e6-90-ac-e5-ae-b6/" data-id="ck0eopw4i000bgvywbsv5j64e" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Promise/">Promise</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/咸鱼翻身/">咸鱼翻身</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/基础信息/">基础信息</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/普通文章/">普通文章</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/09/10/hexo-github-pages-e7-99-bd-e5-ab-96-e5-8d-9a-e5-ae-a2-e6-90-ad-e5-bb-ba-e6-89-8b-e6-9c-ad/">hexo + github pages 白嫖博客搭建手札</a>
          </li>
        
          <li>
            <a href="/2019/09/09/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2019/04/26/easytrain-e4-bd-bf-e7-94-a8-e6-96-b9-e6-b3-95-e7-a0-94-e7-a9-b6/">EasyTrain使用方法研究</a>
          </li>
        
          <li>
            <a href="/2019/02/28/strongswan-5-6-3-e5-ae-89-e8-a3-85-e6-89-8b-e6-9c-ad-2/">StrongSwan 5.6.3 安装手札</a>
          </li>
        
          <li>
            <a href="/2018/05/30/strongswan-e9-95-bf-e6-9c-9f-e5-ae-89-e8-a3-85-e7-ac-94-e8-ae-b0/">strongSwan长期安装笔记</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 StoneRicky<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>